# FLOWFIT KIDS: SINGLE PET WITH COLOR CUSTOMIZATION

## ğŸ“‹ PROJECT OVERVIEW

FlowFit Kids is a Flutter-based wellness and fitness tracking application for children aged 7-12. The app uses **Buddy**, a customizable companion pet, to promote healthy habits through gamification and kid-friendly UX with full parental oversight.

### Technology Stack

- **Framework**: Flutter (iOS, Android, Wear OS)
- **Backend**: Supabase (authentication, database, real-time features)
- **State Management**: Provider pattern
- **Native Integration**: Samsung Health SDK (via MethodChannel/EventChannel)
- **Platform Support**: iOS, Android, Web, Windows, macOS, Linux

### Safety & Privacy First

- **COPPA Compliant**: Minimal data collection, parental consent required
- **Ad-Free**: No advertisements or in-app purchases
- **Parental Controls**: Activity monitoring, privacy settings, content filtering
- **Data Protection**: Minimal data collection, secure storage in Supabase
- **Content Safety**: Age-appropriate challenges, filtered social features

---

## ğŸ¨ SIMPLIFIED PET SYSTEM

### Single Pet Design: "Buddy" (The FlowFit Companion)

Instead of multiple pet types, we have **ONE adorable pet character** that children can customize with colors.

**Character Traits:**

```
Shape: Rounded, soft, friendly (blob/bean shape)
Style: Simple geometric shapes (easy to animate)
Features:
  - Large expressive eyes
  - Small arms and legs
  - Round body
  - Optional tail (small, curved)
  - Smooth edges (kid-friendly)
```

---

## ğŸ¯ ONBOARDING FLOW (90 SECONDS!)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Welcome Screen                       â”‚
â”‚    "Meet Your Fitness Buddy!"           â”‚
â”‚    [Animated Buddy character bouncing]  â”‚
â”‚    [LET'S GO!] button                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. Meet Your Buddy! ğŸ¨                 â”‚
â”‚                                         â”‚
â”‚    [Large Buddy in Ocean Blue]          â”‚
â”‚    "Hi! I'm your fitness buddy!"        â”‚
â”‚                                         â”‚
â”‚    ğŸ’™ Ocean Blue (Your starting color) â”‚
â”‚                                         â”‚
â”‚    Earn more colors as you level up!   â”‚
â”‚                                         â”‚
â”‚    ğŸš Teal at Level 3                  â”‚
â”‚    ğŸŸ¢ Green at Level 5                 â”‚
â”‚    ğŸŸ£ Purple at Level 8                â”‚
â”‚    ... and more!                        â”‚
â”‚                                         â”‚
â”‚    [LET'S GO!] button                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Name Your Buddy                      â”‚
â”‚    "What will you call your buddy?"     â”‚
â”‚                                         â”‚
â”‚    [Text input - big, friendly]         â”‚
â”‚                                         â”‚
â”‚    ğŸ’¡ Ideas: Sparky, Flash, Star       â”‚
â”‚                                         â”‚
â”‚    [THAT'S PERFECT!] button             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. Quick About You                      â”‚
â”‚    "Tell Buddy about yourself!"         â”‚
â”‚                                         â”‚
â”‚    Your Nickname: [___________]         â”‚
â”‚                                         â”‚
â”‚    Your Age:                            â”‚
â”‚    â”Œâ”€â”€â”€â”â”Œâ”€â”€â”€â”â”Œâ”€â”€â”€â”â”Œâ”€â”€â”€â”â”Œâ”€â”€â”€â”â”Œâ”€â”€â”€â”    â”‚
â”‚    â”‚ 7 â”‚â”‚ 8 â”‚â”‚ 9 â”‚â”‚10 â”‚â”‚11 â”‚â”‚12 â”‚    â”‚
â”‚    â””â”€â”€â”€â”˜â””â”€â”€â”€â”˜â””â”€â”€â”€â”˜â””â”€â”€â”€â”˜â””â”€â”€â”€â”˜â””â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚    [SKIP] or [CONTINUE]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. ğŸ‰ Buddy is Ready!                   â”‚
â”‚                                         â”‚
â”‚    [Buddy jumps with excitement]        â”‚
â”‚                                         â”‚
â”‚    "Sparky wants to play!              â”‚
â”‚     Let's do your first challenge!"     â”‚
â”‚                                         â”‚
â”‚    [START FIRST MISSION] button         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ COLOR CUSTOMIZATION SYSTEM

### Available Colors (Simplified Palette)

**Design Philosophy**: Start with a calming blue-centered palette to avoid overwhelming children with too many bright colors at once. Colors unlock gradually to maintain excitement and progression.

```dart
class BuddyColors {
  static const Map<String, Color> colors = {
    // Default - Always available
    'blue': Color(0xFF4ECDC4),     // Ocean Blue (DEFAULT)

    // Early unlocks - Complementary to blue
    'teal': Color(0xFF26A69A),     // Calm Teal (Level 3)
    'green': Color(0xFF66BB6A),    // Fresh Green (Level 5)

    // Mid-tier unlocks - Expanding palette
    'purple': Color(0xFF9575CD),   // Soft Purple (Level 8)
    'yellow': Color(0xFFFFD54F),   // Gentle Yellow (Level 10)

    // Advanced unlocks - Full color expression
    'orange': Color(0xFFFFB74D),   // Warm Orange (Level 15)
    'pink': Color(0xFFF06292),     // Happy Pink (Level 20)
    'navy': Color(0xFF5C6BC0),     // Deep Navy (Level 25)
  };
}
```

### Color Unlock Progression

```
Starting Color (Default):
â””â”€ Blue (Ocean Blue) - Calming, friendly default

Early Progression (Weeks 1-2):
â”œâ”€ Level 3  â†’ Teal unlocked (stays in blue family)
â””â”€ Level 5  â†’ Green unlocked (nature-friendly expansion)

Mid Progression (Weeks 3-4):
â”œâ”€ Level 8  â†’ Purple unlocked (creative expression)
â””â”€ Level 10 â†’ Yellow unlocked (cheerful energy)

Advanced Progression (Months 2-3):
â”œâ”€ Level 15 â†’ Orange unlocked (warmth & excitement)
â”œâ”€ Level 20 â†’ Pink unlocked (playful fun)
â””â”€ Level 25 â†’ Navy unlocked (mature achievement)

Special Achievement Colors (Optional - Future):
â”œâ”€ 30-day streak   â†’ Gradient effect (blueâ†’green)
â””â”€ 100 workouts    â†’ Shimmer effect (subtle sparkle)
```

**Why Blue Default?**

- ğŸ§  **Calming Effect**: Blue reduces anxiety, ideal for kids starting a new app
- ğŸ‘ï¸ **Visual Comfort**: Easiest color on the eyes, reduces cognitive load
- ğŸ¨ **Design Consistency**: Matches existing FlowFit branding
- ğŸŒŠ **Universal Appeal**: Most popular color across age groups
- ğŸ“± **Accessibility**: High contrast options with blue base

---

## ğŸ® BUDDY PROGRESSION SYSTEM

### Growth Stages (Single Pet Evolution)

Instead of different pets, **Buddy evolves as the child progresses:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Buddy's Growth Stages                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Level 1-5:   Baby Buddy (Small, cute)   â”‚
â”‚ Level 6-10:  Kid Buddy (Medium, playful)â”‚
â”‚ Level 11-20: Teen Buddy (Bigger, sporty)â”‚
â”‚ Level 21-30: Super Buddy (Large, heroic)â”‚
â”‚ Level 31+:   Mega Buddy (Epic, glowing) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Visual Changes by Stage

```dart
class BuddyStage {
  final int level;
  final String stage;
  final double size;        // Relative size multiplier
  final List<String> animations;
  final List<String> accessories;

  // Example stages
  static const stages = [
    BuddyStage(
      level: 1,
      stage: 'baby',
      size: 0.7,
      animations: ['bounce', 'wiggle', 'sleep'],
      accessories: [] // No accessories yet
    ),
    BuddyStage(
      level: 6,
      stage: 'kid',
      size: 1.0,
      animations: ['jump', 'run', 'dance', 'stretch'],
      accessories: ['cap', 'shoes']
    ),
    BuddyStage(
      level: 11,
      stage: 'teen',
      size: 1.3,
      animations: ['sprint', 'backflip', 'celebrate', 'power_pose'],
      accessories: ['cap', 'shoes', 'backpack', 'wristband']
    ),
    BuddyStage(
      level: 21,
      stage: 'super',
      size: 1.5,
      animations: ['fly', 'super_jump', 'energy_burst', 'victory'],
      accessories: ['cape', 'mask', 'belt', 'all_previous']
    ),
  ];
}
```

### Animation States

```dart
enum BuddyAnimation {
  idle,           // Gentle breathing, blinking
  happy,          // Jumping, smiling
  excited,        // Spinning, bouncing
  exercising,     // Running in place, jumping jacks
  tired,          // Slow movement, yawning
  sleeping,       // Eyes closed, "Z" particles
  celebrating,    // Confetti, stars, victory pose
  thinking,       // Question mark bubble
  encouraging,    // Thumbs up, motivational bounce
}
```

---

## ğŸ REWARD SYSTEM

### 1. Colors (Primary Rewards)

```
â””â”€ 10 base colors
â””â”€ 3 special effect colors (rainbow, golden, sparkle)
â””â”€ Seasonal colors (event-based)
```

### 2. Accessories (Secondary Rewards)

```
Hats & Headwear:
â”œâ”€ Baseball Cap (Level 3)
â”œâ”€ Beanie (Level 7)
â”œâ”€ Crown (Level 15)
â””â”€ Superhero Mask (Level 20)

Clothing:
â”œâ”€ T-shirt (Default)
â”œâ”€ Sporty Jersey (Level 5)
â”œâ”€ Hoodie (Level 10)
â””â”€ Cape (Level 20)

Footwear:
â”œâ”€ Sneakers (Level 4)
â”œâ”€ Running Shoes (Level 8)
â””â”€ Power Boots (Level 18)

Extras:
â”œâ”€ Backpack (Level 6)
â”œâ”€ Wristband (Level 9)
â”œâ”€ Sunglasses (Level 12)
â””â”€ Badge Collection (Various milestones)
```

### 3. Backgrounds (Environment Rewards)

```
â”œâ”€ Home (Default)
â”œâ”€ Park (Level 5)
â”œâ”€ Beach (Level 10)
â”œâ”€ Forest (Level 15)
â”œâ”€ Mountains (Level 20)
â””â”€ Space (Level 25)
```

---

## ğŸ“± UI SCREENS

### Kids Dashboard (Watch)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                         â”‚
â”‚        SPARKY (Level 5)                 â”‚
â”‚     [Blue Buddy with Cap]               â”‚
â”‚      [Bouncing animation]               â”‚
â”‚                                         â”‚
â”‚  ğŸ’šğŸ’šğŸ’šğŸ’šğŸ–¤  Happy: 80%              â”‚
â”‚  âš¡âš¡âš¡ğŸ–¤ğŸ–¤  Energy: 60%             â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  ğŸƒ MOVE!   â”‚ â”‚  ğŸ¨ DRESS   â”‚      â”‚
â”‚  â”‚             â”‚ â”‚   UP        â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                         â”‚
â”‚  Today: â­â­â­ (30 min)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Color Selection Screen

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† Back      Change Buddy's Color       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚     [Large Buddy Preview]               â”‚
â”‚      Currently: BLUE                    â”‚
â”‚                                         â”‚
â”‚  AVAILABLE:                             â”‚
â”‚  â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”                    â”‚
â”‚  â”‚âœ“ğŸ”µâ”‚ â”‚ ğŸšâ”‚ â”‚ ğŸŸ¢â”‚ â† Unlocked         â”‚
â”‚  â”‚Blueâ”‚ â”‚Tealâ”‚ â”‚Green                  â”‚
â”‚  â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜                    â”‚
â”‚                                         â”‚
â”‚  UNLOCK SOON: (Keep going!)             â”‚
â”‚  â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”                    â”‚
â”‚  â”‚ğŸ”’â”‚ â”‚ğŸ”’â”‚ â”‚ğŸ”’â”‚                    â”‚
â”‚  â”‚ğŸŸ£â”‚ â”‚ğŸŸ¡â”‚ â”‚ğŸŸ â”‚                    â”‚
â”‚  â”‚Purple Pinkâ”‚Orange                    â”‚
â”‚  â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜                    â”‚
â”‚  Lvl 8  Lvl 20 Lvl 15                  â”‚
â”‚                                         â”‚
â”‚  [TAP COLOR TO CHANGE]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Dress Up Screen

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† Back      Dress Up Buddy             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚     [Interactive Buddy]                 â”‚
â”‚     [Tap to try accessories]            â”‚
â”‚                                         â”‚
â”‚ HATS:                                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”               â”‚
â”‚ â”‚  ğŸ§¢ â”‚ â”‚ ğŸ”’  â”‚ â”‚ ğŸ”’  â”‚               â”‚
â”‚ â”‚ Cap â”‚ â”‚Crownâ”‚ â”‚Mask â”‚               â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜               â”‚
â”‚   âœ“       Lvl15   Lvl20                â”‚
â”‚                                         â”‚
â”‚ CLOTHES:                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”               â”‚
â”‚ â”‚  ğŸ‘• â”‚ â”‚  ğŸ”’ â”‚ â”‚  ğŸ”’ â”‚               â”‚
â”‚ â”‚Basicâ”‚ â”‚Jerseyâ”‚ â”‚Cape â”‚               â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜               â”‚
â”‚   âœ“       Lvl5    Lvl20                â”‚
â”‚                                         â”‚
â”‚ [SAVE OUTFIT]                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—„ï¸ DATABASE SCHEMA

```sql
-- Single pet with color customization
CREATE TABLE pets (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  child_id UUID REFERENCES children(id) UNIQUE, -- One pet per child
  name TEXT NOT NULL,
  color TEXT NOT NULL DEFAULT 'blue', -- Current selected color
  level INT DEFAULT 1,
  xp INT DEFAULT 0,
  happiness INT DEFAULT 50,
  health INT DEFAULT 50,

  -- Unlocked content
  unlocked_colors TEXT[] DEFAULT ARRAY['blue'], -- Start with only blue
  unlocked_accessories JSONB DEFAULT '{"hats": [], "clothes": [], "shoes": [], "extras": []}',

  -- Current outfit
  current_accessories JSONB DEFAULT '{"hat": null, "clothes": "basic", "shoes": null, "extra": null}',
  current_background TEXT DEFAULT 'home',

  -- Stage progression
  stage TEXT DEFAULT 'baby', -- baby, kid, teen, super, mega

  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- Color unlock log
CREATE TABLE color_unlocks (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  pet_id UUID REFERENCES pets(id),
  color TEXT NOT NULL,
  unlocked_at TIMESTAMP DEFAULT NOW(),
  unlock_reason TEXT -- 'level_up', 'streak', 'special_event'
);

-- Accessory unlock log
CREATE TABLE accessory_unlocks (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  pet_id UUID REFERENCES pets(id),
  accessory_type TEXT NOT NULL, -- 'hat', 'clothes', 'shoes', 'extra'
  accessory_name TEXT NOT NULL,
  unlocked_at TIMESTAMP DEFAULT NOW()
);
```

---

## ğŸ¨ BUDDY RENDERING SYSTEM

### Color Application

```dart
class BuddyRenderer {
  // Main body color (user-selected)
  Color primaryColor;

  // Auto-generated accent colors
  Color lighterShade;      // Belly, inner ears
  Color darkerShade;       // Outline, shadows

  // Fixed colors
  Color eyeWhite = Colors.white;
  Color eyePupil = Colors.black;
  Color mouth = Color(0xFF333333);

  // Accessories keep original colors
  Color capRed = Color(0xFFFF6B6B);
  Color capeBlue = Color(0xFF4ECDC4);
}
```

---

## ğŸ¯ GAMIFICATION SYSTEM

### Character Traits

```
Shape: Rounded, soft, friendly
Style: Simple geometric shapes (easy to animate)
Features:
  - Large expressive eyes
  - Small arms and legs
  - Round body (like a bean or blob)
  - Optional tail (small, curved)
  - Smooth edges (no sharp corners)
```

### Animation States

```dart
enum BuddyAnimation {
  idle,           // Gentle breathing, blinking
  happy,          // Jumping, smiling
  excited,        // Spinning, bouncing
  exercising,     // Running in place, jumping jacks
  tired,          // Slow movement, yawning
  sleeping,       // Eyes closed, "Z" particles
  celebrating,    // Confetti, stars, victory pose
  thinking,       // Question mark bubble
  encouraging,    // Thumbs up, motivational bounce
}
```

### Color Application

```dart
class BuddyRenderer {
  // Main body color
  Color primaryColor;      // User's selected color

  // Accent colors (auto-generated from primary)
  Color lighterShade;      // Belly, inner ears
  Color darkerShade;       // Outline, shadows

  // Fixed colors
  Color eyeWhite = Colors.white;
  Color eyePupil = Colors.black;
  Color mouth = Color(0xFF333333);

  // Accessories keep their original colors
  Color capRed = Color(0xFFFF6B6B);
  Color capeBlue = Color(0xFF4ECDC4);
}
```

---

## ğŸ¯ SIMPLIFIED GAMIFICATION

### XP and Leveling

```dart
class PetLeveling {
  // Simplified XP curve for kids
  static int xpForLevel(int level) {
    return level * 100; // Level 1â†’2: 100 XP, Level 2â†’3: 200 XP
  }

  // Ways to earn XP
  static const xpRewards = {
    'complete_workout': 50,
    'meet_daily_goal': 30,
    'morning_exercise': 20,
    'good_sleep': 25,
    'healthy_meal_log': 15,
    'daily_login': 10,
    '7_day_streak': 100,
  };
}
```

### Progress Visualization

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Next Color: ğŸš TEAL                    â”‚
â”‚                                         â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  Level 3 (85%)        â”‚
â”‚                                         â”‚
â”‚ Keep going! Just 15 XP more!           â”‚
â”‚                                         â”‚
â”‚ Coming up: ğŸŸ¢ Green (Level 5)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ‰ UNLOCK CELEBRATION

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                         â”‚
â”‚        âœ¨ LEVEL UP! âœ¨                 â”‚
â”‚           Level 3!                      â”‚
â”‚                                         â”‚
â”‚     [Buddy dancing animation]           â”‚
â”‚                                         â”‚
â”‚   ğŸ‰ NEW COLOR UNLOCKED! ğŸ‰            â”‚
â”‚                                         â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚    â”‚    ğŸš TEAL          â”‚             â”‚
â”‚    â”‚                     â”‚             â”‚
â”‚    â”‚  [Preview Buddy     â”‚             â”‚
â”‚    â”‚   in calm teal]     â”‚             â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                         â”‚
â”‚  Next unlock: ğŸŸ¢ Green at Level 5!     â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   [TRY IT NOW!]           â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   [KEEP BLUE]             â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ IMPLEMENTATION PHASES

### Phase 1: Buddy Foundation (Week 1)

- [ ] Design Buddy character (5 stages)
- [ ] Create 8 color variants (blue-centered palette)
- [ ] Build color selection UI
- [ ] Implement Buddy widget with color system
- [ ] Basic animations (idle, happy, tired)

### Phase 2: Onboarding (Week 2)

- [ ] Color picker screen
- [ ] Buddy naming screen
- [ ] Quick profile setup
- [ ] First mission tutorial
- [ ] Onboarding completion celebration

### Phase 3: Customization (Week 3)

- [ ] Dress-up screen UI
- [ ] Accessory system (5-10 items)
- [ ] Background system (5 environments)
- [ ] Unlock progression logic
- [ ] Preview before unlock

### Phase 4: Progression (Week 4)

- [ ] XP system
- [ ] Level-up animations
- [ ] Color unlock notifications
- [ ] Stage evolution (babyâ†’kidâ†’teenâ†’super)
- [ ] Milestone celebrations

### Phase 5: Parent Features (Week 5-6)

- [ ] Parent dashboard
- [ ] Activity monitoring
- [ ] Privacy controls
- [ ] Weekly/monthly reports
- [ ] Settings management

### Phase 6: Polish (Week 7)

- [ ] Smooth all animations
- [ ] Sound effects (optional)
- [ ] Easter eggs (rare colors)
- [ ] Performance optimization
- [ ] Accessibility features

---

## ğŸ“‚ PROJECT STRUCTURE

```
lib/
â”œâ”€â”€ main.dart                 # Phone app entry
â”œâ”€â”€ main_wear.dart           # Watch app entry
â”œâ”€â”€ features/
â”‚   â””â”€â”€ buddy/
â”‚       â”œâ”€â”€ domain/
â”‚       â”‚   â”œâ”€â”€ buddy_usecases.dart
â”‚       â”‚   â””â”€â”€ buddy_repository.dart (interface)
â”‚       â”œâ”€â”€ data/
â”‚       â”‚   â”œâ”€â”€ buddy_supabase_repository.dart
â”‚       â”‚   â””â”€â”€ color_unlock_service.dart
â”‚       â”œâ”€â”€ platform/
â”‚       â”‚   â””â”€â”€ buddy_animation_controller.dart
â”‚       â””â”€â”€ presentation/
â”‚           â”œâ”€â”€ onboarding/
â”‚           â”‚   â”œâ”€â”€ buddy_color_selection.dart
â”‚           â”‚   â”œâ”€â”€ buddy_naming.dart
â”‚           â”‚   â””â”€â”€ quick_profile.dart
â”‚           â”œâ”€â”€ home/
â”‚           â”‚   â””â”€â”€ kids_dashboard.dart
â”‚           â””â”€â”€ customization/
â”‚               â”œâ”€â”€ color_picker_screen.dart
â”‚               â”œâ”€â”€ dress_up_screen.dart
â”‚               â””â”€â”€ unlock_preview.dart
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ buddy.dart
â”‚   â”œâ”€â”€ buddy_customization.dart
â”‚   â””â”€â”€ buddy_animation.dart
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ supabase_service.dart
â”‚   â”œâ”€â”€ watch_bridge.dart
â”‚   â””â”€â”€ phone_data_listener.dart
â”œâ”€â”€ widgets/
â”‚   â”œâ”€â”€ buddy_widget.dart
â”‚   â”œâ”€â”€ color_swatch_button.dart
â”‚   â”œâ”€â”€ locked_item_widget.dart
â”‚   â””â”€â”€ unlock_celebration.dart
â””â”€â”€ utils/
    â””â”€â”€ constants.dart

assets/
â”œâ”€â”€ buddy/
â”‚   â”œâ”€â”€ animations/
â”‚   â”‚   â”œâ”€â”€ idle.json (Lottie)
â”‚   â”‚   â”œâ”€â”€ happy.json
â”‚   â”‚   â”œâ”€â”€ exercise.json
â”‚   â”‚   â””â”€â”€ celebrate.json
â”‚   â””â”€â”€ accessories/
â”‚       â”œâ”€â”€ cap.svg
â”‚       â”œâ”€â”€ cape.svg
â”‚       â””â”€â”€ crown.svg
â””â”€â”€ backgrounds/
    â”œâ”€â”€ home.svg
    â””â”€â”€ park.svg

test/
â””â”€â”€ features/
    â””â”€â”€ buddy/
        â”œâ”€â”€ domain/
        â”œâ”€â”€ data/
        â””â”€â”€ platform/
```

---

## ğŸ› ï¸ DEVELOPMENT GUIDELINES

### UI/UX Standards (Kid-Friendly)

1. **Touch Targets**: Minimum 48x48 logical pixels for buttons
2. **Typography**: Large, readable fonts (minimum 16sp body text)
3. **Colors**: Bright, cheerful colors from `BuddyColors`
4. **Icons**: Simple, recognizable with text labels
5. **Animations**: Smooth transitions (200-300ms duration)
6. **Feedback**: Immediate visual response to taps
7. **Language**: Simple, encouraging, age-appropriate (7-12)
8. **Error Messages**: Friendly, non-technical ("Oops! Let's try again!")

### Code Standards

```dart
// Example: Feature-first clean architecture
class StartHeartRateUseCase {
  final HeartRateRepository repository;

  StartHeartRateUseCase(this.repository);

  Future<void> execute() async {
    await repository.startTracking();
  }
}

// Implementation in platform layer
class WatchHeartRateRepository implements HeartRateRepository {
  final WatchBridgeService _bridge;

  @override
  Future<void> startTracking() async {
    await _bridge.startHeartRate();
  }
}
```

### Testing Requirements

- **Unit Tests**: Domain logic and use cases
- **Widget Tests**: UI components and screens
- **Integration Tests**: Platform channel mocking (see `test/services/watch_bridge_test.dart`)

```dart
// Example: Method channel test
testWidgets('Color selection updates Buddy preview', (tester) async {
  TestDefaultBinaryMessengerBinding.instance
    .defaultBinaryMessenger
    .setMockMethodCallHandler(channel, (call) async {
      if (call.method == 'updateColor') {
        return {'success': true};
      }
    });

  // Test color selection logic
});
```

---

## ğŸ“Š SUCCESS METRICS

### Kid Engagement

- **Color unlock rate**: 80% unlock first 3 colors (blue, teal, green)
- **Customization usage**: 50% try new color when unlocked
- **Color satisfaction**: 90% happy with available colors
- **Stage progression**: Average level 10 within 4 weeks
- **Daily active users**: 70% return rate

### Parent Satisfaction

- **Setup simplicity**: 90% complete setup in <2 minutes
- **Understanding**: 85% understand color reward system
- **Safety approval**: 95% feel app is safe
- **Monitoring**: 80% check dashboard weekly

---

## ğŸ” PRIVACY & SAFETY

### COPPA Compliance

- Parental consent for account creation
- Minimal data collection (only fitness metrics)
- No personal information sharing
- Parent-controlled privacy settings
- Secure data storage in Supabase

### Content Safety

- Age-appropriate challenges and language
- No social features without parental approval
- Filtered leaderboards (friends only)
- Moderated community features (future)

---

## ğŸ“š KEY DOCUMENTATION

- **Main Setup**: `README.md`
- **Quick Start**: `docs/QUICK_START.md`
- **Wear OS Setup**: `docs/WEAR_OS_SETUP.md`
- **Troubleshooting**: `docs/TROUBLESHOOTING.md`
- **AI Instructions**: `.github/copilot-instructions.md`

---

## â“ IMPLEMENTATION DECISIONS

### 1. Buddy Character Style

**Decision**: Simple blob/bean shape

- âœ… Easy to animate
- âœ… Color-friendly (solid fills)
- âœ… Scalable across sizes
- âœ… Kid-appealing

### 2. Accessories Priority

**Decision**: Start with 5 essential items

- Cap, Jersey, Shoes, Backpack, Sunglasses
- Expand to 15+ items based on engagement

### 3. Color Palette Strategy

**Decision**: Blue-centered, gradually expanding palette

- Start with calming blue (reduces overwhelm)
- Unlock complementary colors first (teal, green)
- Expand to full spectrum gradually (purple, yellow, orange, pink, navy)
- Special effects optional for future (gradient, shimmer)

### 4. App Naming

**Decision**: "FlowFit Kids" with Buddy branding

- Main app: FlowFit Kids
- Mascot: Buddy the FlowFit Companion

---

## ğŸ¯ WHY SINGLE PET SYSTEM?

**Advantages:**

- âœ… Easier to develop (one character, multiple customizations)
- âœ… Kid-friendly (one friend, many looks)
- âœ… Focused progression (unlock colors vs. unlock pets)
- âœ… Better brand identity (one memorable mascot)
- âœ… Scalable (seasonal colors, special effects)
- âœ… Lower cognitive load for target age (7-12)

**vs. Multiple Pets:**

- âŒ Choice paralysis for kids
- âŒ More complex progression
- âŒ Higher development cost
- âŒ Diluted brand identity

---

## ğŸš¦ GETTING STARTED

### Prerequisites

- Flutter SDK (latest stable)
- Android Studio / Xcode
- Supabase account
- Galaxy Watch (for Wear OS testing)

### Installation

```bash
# Install dependencies
flutter pub get

# Run phone app
flutter run -d <phone-device-id> -t lib/main.dart

# Run watch app
flutter run -d <watch-device-id> -t lib/main_wear.dart

# Run tests
flutter test
```

### Configuration

1. Copy `lib/secrets.dart.example` to `lib/secrets.dart`
2. Add Supabase URL and anon key
3. Configure Samsung Health permissions in `AndroidManifest.xml`

---

**Ready to build Buddy! ğŸ¨ Start with Phase 1: Buddy Foundation.**
